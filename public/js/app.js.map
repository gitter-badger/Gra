{"version":3,"sources":["avatar.coffee","battle.coffee","equalizer.coffee","form.coffee","imagePreview.coffee","navfix.coffee","plantation.coffee","player.coffee","square.coffee","statistics.coffee","timer.coffee","tooltip.coffee","utils.coffee"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["\r\n\r\nclicked = ->\r\n\t$('.avatar').removeClass('active')\r\n\t$('#avatar').val($(this).data('avatar'))\r\n\t$(this).addClass('active')\r\n\r\n\r\n$ ->\r\n\t$('.avatar').click(clicked).first().trigger('click')","\r\n\r\nclass Character\r\n\r\n\r\n\tconstructor: (team, data) ->\r\n\r\n\t\timage = new Image()\r\n\t\timage.src = data.avatar\r\n\t\timage.onload = =>\r\n\t\t\t@avatar = image\r\n\r\n\r\n\r\n\t\t@team = team\r\n\t\t@name = data.name\r\n\t\t@id = data.id\r\n\t\t@level = data.level\r\n\t\t@health = data.health\r\n\t\t@maxHealth = data.maxHealth\r\n\t\t@strength = data.strength\r\n\t\t@perception = data.perception\r\n\t\t@endurance = data.endurance\r\n\t\t@charisma = data.charisma\r\n\t\t@intelligence = data.intelligence\r\n\t\t@agility = data.agility\r\n\t\t@luck = data.luck\r\n\r\n\r\n\tdraw: (context, size) ->\r\n\t\tif @team == 'red'\r\n\t\t\tcontext.strokeStyle = 'rgba(217, 83, 79, 1)'\r\n\t\t\tcontext.fillStyle = 'rgba(217, 83, 79, 0.4)'\r\n\t\telse\r\n\t\t\tcontext.strokeStyle = 'rgba(51, 122, 183, 1)'\r\n\t\t\tcontext.fillStyle = 'rgba(51, 122, 183, 0.4)'\r\n\r\n\t\tcontext.fillRect(0, 0, size, size)\r\n\t\tcontext.strokeRect(0, 0, size, size)\r\n\r\n\t\tif @avatar?\r\n\t\t\tcontext.drawImage(@avatar, 0, 20, size, size - 20)\r\n\r\n\t\ttext = @name + ' (' + @level + ')'\r\n\r\n\t\tcontext.fillStyle = '#000000'\r\n\t\tmeasure = context.measureText(text)\r\n\t\tcontext.fillText(text, (size - measure.width) / 2, 20)\r\n\r\n\r\n\t\tcontext.strokeStyle = 'rgba(0, 0, 0, 0.7)'\r\n\t\tcontext.fillStyle = 'rgba(0, 0, 0, 0.4)'\r\n\t\tcontext.fillRect(5, size - 25, size - 10, 20)\r\n\t\tcontext.strokeRect(5, size - 25, size - 10, 20)\r\n\r\n\t\tcontext.fillStyle = 'rgba(217, 83, 79, 1)'\r\n\t\tcontext.fillRect(5, size - 25, (size - 10) * (@health / @maxHealth), 20)\r\n\r\n\t\ttext = Math.round(@health) + ' / ' + @maxHealth\r\n\t\tmeasure = context.measureText(text)\r\n\t\tcontext.fillStyle = '#000000'\r\n\t\tcontext.fillText(text, (size - measure.width) / 2, size - 13)\r\n\r\n\r\n\r\n\r\n\r\nclass Battle\r\n\r\n\tspeed: \r\n\t\tview: 0.05\r\n\t\tinfo: 0.05\r\n\t\tnext: 0.05\r\n\r\n\r\n\r\n\r\n\tconstruct: ->\r\n\r\n\r\n\r\n\tload: ->\r\n\r\n\t\tif battleLog?\r\n\t\t\t@canvas = $('#battleView')[0]\r\n\t\t\t@context = @canvas.getContext('2d')\r\n\t\t\t@index = 0\r\n\t\t\t@characters = []\r\n\t\t\t@state = 'view'\r\n\t\t\t@offset = 0\r\n\t\t\t@pause = false\r\n\r\n\t\t\t$(@canvas).click((event) => @click(event))\r\n\t\t\t$(document).keydown((event) => @key(event))\r\n\r\n\t\t\tfor data in battleLog['teams']['red']\r\n\t\t\t\tcharacter = new Character('red', data)\r\n\t\t\t\t@characters[character.id] = character\r\n\r\n\r\n\t\t\tfor data in battleLog['teams']['blue']\r\n\t\t\t\tcharacter = new Character('blue', data)\r\n\t\t\t\t@characters[character.id] = character\r\n\r\n\r\n\r\n\t\t\t@action = battleLog['log'][@index]\r\n\t\t\t@attacker = @characters[@action.attacker]\r\n\t\t\t@defender = @characters[@action.defender]\r\n\r\n\t\t\ttrue\r\n\t\telse\r\n\t\t\tfalse\r\n\r\n\tdrawCharacters: (attacker, defender) ->\r\n\r\n\t\tsize = @canvas.height * 0.6\r\n\t\thalfWidth = @canvas.width / 2\r\n\r\n\t\t@context.save()\r\n\t\t@context.translate((halfWidth - size) / 2, (@canvas.height - size) / 2)\r\n\t\tattacker.draw(@context, size)\r\n\t\t@context.restore()\r\n\r\n\t\t@context.save()\r\n\t\t@context.translate((halfWidth - size) / 2 + halfWidth, (@canvas.height - size) / 2)\r\n\t\tdefender.draw(@context, size)\r\n\t\t@context.restore()\r\n\r\n\r\n\tdrawInfo: (text) ->\r\n\t\thalfWidth = @canvas.width / 2\r\n\t\thalfHeight = @canvas.height / 2\r\n\t\tblockSize = @canvas.height * 0.6\r\n\r\n\t\tstarRadius = 50\r\n\t\tstarWidth = starRadius * 2\r\n\t\tstarX = halfWidth + (blockSize + starRadius) / 2\r\n\t\tstarY = halfHeight\r\n\t\tstarW = (blockSize * 0.7) / starWidth\r\n\t\tstarH = 1.2\r\n\t\tstarPikes = 13\r\n\r\n\t\tmeasure = @context.measureText(text)\r\n\t\ttextX = starX - measure.width / 2\r\n\t\ttextY = halfHeight\r\n\r\n\r\n\r\n\r\n\t\t@context.save()\r\n\t\t@context.lineWidth = 2\r\n\t\t@context.translate(starX, starY)\r\n\t\t@context.scale(starW, starH)\r\n\t\t@context.fillStyle = '#FFFFFF'\r\n\t\t@context.strokeStyle = '#000000'\r\n\t\t@drawStar(starPikes, starRadius * 0.6, starRadius)\r\n\t\t@context.restore()\r\n\r\n\t\t@context.save()\r\n\t\t@context.translate(textX, textY)\r\n\t\t@context.fillStyle = '#000000'\r\n\t\t@context.fillText(text, 0, 0)\r\n\t\t@context.restore()\r\n\r\n\r\n\tdrawStar: (pikes, innerRadius, outerRadius) ->\r\n\t\trot = Math.PI / 2 * 3\r\n\t\tstep = Math.PI / pikes\r\n\r\n\t\t@context.beginPath()\r\n\t\tx = Math.cos(rot) * outerRadius\r\n\t\ty = Math.sin(rot) * outerRadius\r\n\t\t@context.moveTo(x, y)\r\n\t\trot += step\r\n\r\n\t\tfor i in [1..pikes]\r\n\t\t\tx = Math.cos(rot) * innerRadius\r\n\t\t\ty = Math.sin(rot) * innerRadius\r\n\t\t\t@context.lineTo(x, y)\r\n\t\t\trot += step\r\n\r\n\t\t\tx = Math.cos(rot) * outerRadius\r\n\t\t\ty = Math.sin(rot) * outerRadius\r\n\t\t\t@context.lineTo(x, y)\r\n\t\t\trot += step\r\n\r\n\t\t@context.lineTo(0, -outerRadius)\r\n\t\t@context.fill()\r\n\t\t@context.stroke()\r\n\t\t@context.closePath()\r\n\t\t\r\n\r\n\r\n\r\n\r\n\tdraw: ->\r\n\r\n\t\t@context.fillStyle = '#FFFFFF'\r\n\t\t@context.clearRect(0, 0, @canvas.width, @canvas.height)\r\n\t\t@offset += @speed[@state]\r\n\t\tanimate = true\r\n\r\n\t\tif @state == 'view' and animate\r\n\t\t\taction = battleLog['log'][@index]\r\n\t\t\tattacker = @characters[action.attacker]\r\n\t\t\tdefender = @characters[action.defender]\r\n\r\n\t\t\tif(action.type == 'hit')\r\n\t\t\t\tdefender.health = action.health\r\n\r\n\t\t\t@drawCharacters(attacker, defender)\r\n\r\n\t\t\tif(@offset > 1.0 and not @pause)\r\n\t\t\t\t@offset = 0.0\r\n\t\t\t\tdefender.startHealth = defender.health\r\n\r\n\t\t\t\tif action.type == 'hit'\r\n\t\t\t\t\tdefender.endHealth = Math.max(defender.health - action.damage, 0)\r\n\t\t\t\telse\r\n\t\t\t\t\tdefender.endHealth = defender.health\r\n\r\n\t\t\t\t@state = 'info'\r\n\r\n\t\t\tanimate = false\r\n\r\n\t\tif @state == 'info' and animate\r\n\t\t\taction = battleLog['log'][@index]\r\n\t\t\tattacker = @characters[action.attacker]\r\n\t\t\tdefender = @characters[action.defender]\r\n\r\n\t\t\t@drawCharacters(attacker, defender)\r\n\r\n\t\t\tif @offset <= 1.0\r\n\t\t\t\t@context.globalAlpha = @offset\r\n\t\t\t\tdefender.health = defender.startHealth\r\n\t\t\telse\r\n\t\t\t\tif @offset <= 2.0\r\n\t\t\t\t\t@context.globalAlpha = 1.0\r\n\r\n\t\t\t\t\ti = Math.clamp(@offset - 1.0, 0, 1)\r\n\t\t\t\t\tdefender.health = Math.lerp(i, defender.endHealth, defender.startHealth)\r\n\r\n\t\t\t\telse\r\n\t\t\t\t\tdefender.health = defender.endHealth\r\n\t\t\t\t\t@context.globalAlpha = Math.max(3.0 - @offset, 0)\r\n\r\n\t\t\tif(@offset > 4.0)\r\n\t\t\t\t@offset = 0.0\r\n\t\t\t\t@state = 'next'\r\n\r\n\t\t\tif action.type == 'hit'\r\n\t\t\t\ttext = action.damage\r\n\r\n\t\t\t\tif action.crit\r\n\t\t\t\t\ttext += '!'\r\n\r\n\t\t\telse\r\n\t\t\t\ttext = 'dodge'\r\n\r\n\r\n\r\n\t\t\t@drawInfo(text)\r\n\r\n\r\n\t\t\t@context.globalAlpha = 1.0\r\n\t\t\tanimate = false\r\n\r\n\t\tif @state == 'next' and animate\r\n\r\n\t\t\tprevAction = battleLog['log'][@index]\r\n\t\t\tnextAction = battleLog['log'][@index + 1]\r\n\r\n\r\n\t\t\tprevAttacker = @characters[prevAction.attacker]\r\n\t\t\tprevDefender = @characters[prevAction.defender]\r\n\r\n\r\n\t\t\tposition = (@canvas.height / 2) * @offset\r\n\r\n\t\t\t@context.save()\r\n\t\t\t@context.translate(0, -position)\r\n\t\t\t@drawCharacters(prevAttacker, prevDefender)\r\n\t\t\t@context.restore()\r\n\r\n\r\n\t\t\t@context.save()\r\n\t\t\t@context.translate(0, @canvas.height - position)\r\n\r\n\t\t\tif nextAction?\r\n\t\t\t\tnextAttacker = @characters[nextAction.attacker]\r\n\t\t\t\tnextDefender = @characters[nextAction.defender]\r\n\r\n\t\t\t\tif(nextAction.type == 'hit')\r\n\t\t\t\t\tnextDefender.health = nextAction.health\r\n\r\n\t\t\t\t@drawCharacters(nextAttacker, nextDefender)\r\n\r\n\t\t\telse\r\n\t\t\t\ttext = 'End'\r\n\t\t\t\t@context.fillStyle = '#000000'\r\n\t\t\t\tmeasure = @context.measureText(text)\r\n\t\t\t\t@context.fillText(text, (@canvas.width - measure.width) / 2, (@canvas.height - 15) / 2)\r\n\r\n\t\t\t@context.restore()\r\n\r\n\t\t\tif @offset > 2.0\r\n\t\t\t\t@index++\r\n\t\t\t\t@offset = 0.0\r\n\t\t\t\tif nextAction?\r\n\t\t\t\t\t@state = 'view'\r\n\t\t\t\telse\r\n\t\t\t\t\t@state = 'end'\r\n\r\n\t\t\tanimate = false\r\n\r\n\r\n\t\tif @state == 'end' and animate\r\n\t\t\ttext = 'End'\r\n\t\t\t@offset = 0.0\r\n\t\t\t@context.fillStyle = '#000000'\r\n\t\t\tmeasure = @context.measureText(text)\r\n\t\t\t@context.fillText(text, (@canvas.width - measure.width) / 2, (@canvas.height - 15) / 2)\r\n\t\t\tanimate = false\r\n\r\n\r\n\r\n\r\n\t\twidth = @canvas.width - 4\r\n\t\theight = @canvas.height - 2\r\n\r\n\t\t@context.save()\r\n\t\t@context.strokeStyle = 'rgba(0, 0, 0, 0.7)'\r\n\t\t@context.fillStyle = 'rgba(0, 0, 0, 0.4)'\r\n\t\t@context.fillRect(2, height - 20, width, 20)\r\n\t\t@context.strokeRect(2, height - 20, width, 20)\r\n\r\n\t\t@context.fillStyle = '#5BC0DE'\r\n\t\t@context.fillRect(2, height - 20, width * (@index / (battleLog['log'].length - 1)), 20)\r\n\t\t@context.lineWidth = 5\r\n\r\n\t\tfor mark in battleLog['marks']\r\n\r\n\t\t\tif mark.type == 'fainted'\r\n\t\t\t\t@context.strokeStyle = '#D9534F'\r\n\r\n\t\t\tat = (mark.at / (battleLog['log'].length - 1)) * width\r\n\r\n\t\t\t@context.beginPath()\r\n\t\t\t@context.moveTo(at - @context.lineWidth / 2, height - 20)\r\n\t\t\t@context.lineTo(at - @context.lineWidth / 2, height)\r\n\t\t\t@context.stroke()\r\n\r\n\t\t@context.restore()\r\n\r\n\r\n\r\n\r\n\tclick: (event) ->\r\n\t\tcoords = @canvas.relMouseCoords(event)\r\n\t\tx = coords.x\r\n\t\ty = coords.y\r\n\r\n\t\tl = 2\r\n\t\tr = l + @canvas.width - 4\r\n\t\tb = @canvas.height - 2\r\n\t\tt = b - 20\r\n\r\n\r\n\t\tif x >= l and x <= r and y >= t and y <= b\r\n\t\t\t@index = Math.round((x - l) / (r - l) * (battleLog['log'].length - 1))\r\n\t\t\t@state = 'view'\r\n\t\t\t@offset = 0.0\r\n\r\n\tkey: (event) ->\r\n\r\n\t\tif event.which == 32\r\n\t\t\t@pause = !@pause\r\n\r\n\r\n\t\tif event.which == 37\r\n\t\t\t@index = Math.max(@index - 1, 0)\r\n\t\t\t@offset = 1.0\r\n\t\t\t@state = 'view'\r\n\r\n\t\tif event.which == 39\r\n\t\t\t@index = Math.min(@index + 1, battleLog['log'].length - 1)\r\n\t\t\t@offset = 1.0\r\n\t\t\t@state = 'view'\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nbattle = new Battle;\r\n\r\nrequestFrame = ->\r\n\tbattle.draw()\r\n\twindow.requestAnimationFrame(requestFrame)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n$ ->\r\n\tif battle.load()\r\n\t\trequestFrame()","widths =\r\n\txs: 768,\r\n\tsm: 992,\r\n\tmd: 1200,\r\n\r\n\r\n\r\ngetPrefix = ->\r\n\twidth = $(window).width()\r\n\r\n\tif width < widths.xs\r\n\t\t['xs']\r\n\telse if width < widths.sm\r\n\t\t['sm', 'xs']\r\n\telse if width < widths.md\r\n\t\t['md', 'sm', 'xs']\r\n\telse\r\n\t\t['lg', 'md', 'sm', 'xs']\r\n\r\n\r\ngetColumns = (prefix) ->\r\n\tresult = []\r\n\tfor p in prefix\r\n\t\tfor i in [1..12]\r\n\t\t\tresult.push(\"col-#{p}-#{i}\")\r\n\tresult\r\n\r\n\r\n\r\ngetSize = (object, prefix) ->\r\n\tfor p in prefix\r\n\t\tregexp = new RegExp(\"col-#{p}-(\\\\d+)\")\r\n\t\tsize = $(object).attr('class').match(regexp)?[1]\r\n\t\treturn parseInt(size) if size?\r\n\treturn null\r\n\r\n\r\n\r\n\r\nequalize = ->\r\n\tprefix = getPrefix()\r\n\tcolumns = getColumns(prefix)\r\n\tselector = '.' + columns.join(',.')\r\n\t\r\n\t#console.log('prefix: ', prefix)\r\n\t#console.log('columns: ', columns)\r\n\t#console.log('selector: ', selector)\r\n\r\n\r\n\t$('.row.equalize').each ->\r\n\t\t#console.log('new row')\r\n\t\theights = []\r\n\t\trow = 0\r\n\t\tsum = 0\r\n\r\n\t\t$(this).children(selector).each ->\r\n\t\t\tsize = getSize(this, prefix)\r\n\t\t\tsum += size\r\n\r\n\t\t\t#console.log('size: ', size)\r\n\t\t\t#console.log('sum: ', sum)\r\n\r\n\t\t\tif sum > 12\r\n\t\t\t\tsum -= 12\r\n\t\t\t\trow++\r\n\t\t\t\t#console.log('next row ', row, size)\r\n\r\n\t\t\theights[row] ?= 0\r\n\t\t\theights[row] = Math.max(heights[row], $(this).height())\r\n\t\t\t#console.log('height ', heights[row])\r\n\r\n\t\trow = 0\r\n\t\tsum = 0\r\n\t\tcol = null\r\n\r\n\t\t$(this).children(selector).each ->\r\n\t\t\tsum += getSize(this, prefix)\r\n\t\t\tcol ?= this\r\n\r\n\t\t\tif sum > 12\r\n\t\t\t\tsum -= 12\r\n\t\t\t\trow++\r\n\t\t\t\tcol = this\r\n\r\n\t\t\t$(this).height(heights[row])\r\n\r\n\t\ths = Math.round (12 - sum) / 2\r\n\t\tif col? and hs > 0\r\n\t\t\tp = prefix[0]\r\n\r\n\t\t\tfor i in [1..12]\r\n\t\t\t\t$(col).removeClass(\"col-#{p}-offset-#{i}\")\r\n\t\t\t$(col).addClass(\"col-#{p}-offset-#{hs}\")\r\n\r\n\r\n\r\n\r\n$ ->\r\n\t$(window).resize -> equalize()\r\n\tequalize()","speed = 1\r\n\r\n\r\nkeyDown = (event) ->\r\n\tspeed = 10 if event.which == 17\r\n\tspeed = 100 if event.which == 16\r\n\r\nkeyUp = (event) ->\r\n\tspeed = 1 if event.which == 17 or event.which == 16\r\n\r\n\r\nmouseWheel = (event) ->\r\n\tmin = parseInt ($(this).attr('min') ? 0)\r\n\tmax = parseInt ($(this).attr('max') ? 100)\r\n\tstep = parseInt ($(this).attr('step') ? 1)\r\n\r\n\tchange = event.deltaY * step * speed\r\n\tvalue = parseInt $(this).val() ? 0\r\n\tvalue = Math.clamp value + change, min, max\r\n\r\n\t$(this)\r\n\t\t.val value\r\n\t\t.trigger 'change'\r\n\r\n\tevent.preventDefault()\r\n\r\nrangeChanged = (event) ->\r\n\toutput = $(this).parent().children('.range-value')\r\n\tbefore = ($(output).data 'before') ? ''\r\n\tafter = ($(output).data 'after') ? ''\r\n\tvalue = $(this).val() ? 0\r\n\r\n\t$(output).text before + value + after\r\n\r\n\r\nnumberDecrease = (event) ->\r\n\tinput = $(this).parent().parent().children('input')\r\n\tmin = parseInt ($(input).attr('min') ? 0)\r\n\tmax = parseInt ($(input).attr('max') ? 100)\r\n\tstep = parseInt ($(input).attr('step') ? 1)\r\n\r\n\tvalue = parseInt ($(input).val() ? 0)\r\n\tvalue = Math.clamp(value - speed * step, min, max)\r\n\t$(input).val(value).trigger('change')\r\n\r\n\r\nnumberIncrease = (event) ->\r\n\tinput = $(this).parent().parent().children('input')\r\n\tmin = parseInt ($(input).attr('min') ? 0)\r\n\tmax = parseInt ($(input).attr('max') ? 100)\r\n\tstep = parseInt ($(input).attr('step') ? 1)\r\n\r\n\tvalue = parseInt ($(input).val() ? 0)\r\n\tvalue = Math.clamp(value + speed * step, min, max)\r\n\t$(input).val(value).trigger('change')\r\n\r\n\r\n\r\n\r\n$ -> (\r\n\r\n\t$(window)\r\n\t\t.keyup keyUp\r\n\t\t.keydown keyDown\r\n\r\n\t$('input[type=number], input[type=range]')\r\n\t\t.bind 'mousewheel', mouseWheel\r\n\r\n\t$('input[type=range]')\r\n\t\t.change rangeChanged\r\n\t\t.mousemove rangeChanged\r\n\r\n\t$('.number-minus').children('button')\r\n\t\t.click numberDecrease\r\n\r\n\r\n\t$('.number-plus').children('button')\r\n\t\t.click numberIncrease\r\n\r\n)","\r\n\r\n\r\n\r\n$ -> \r\n\t$('.image-preview').each ->\r\n\t\tpreview = this\r\n\t\tid = $(this).data('for')\r\n\t\t$('#' + id).change((event) -> \r\n\t\t\t\r\n\t\t\tpath = URL.createObjectURL(event.target.files[0])\r\n\t\t\t$(preview).attr 'src', path\r\n\t\t).trigger 'change'\r\n","navfix = ->\r\n\theight = $('#mainNav').height() + 10\r\n\t$('body').css('padding-top', height + 'px')\r\n\r\n\r\n$ ->\r\n\t$(window).resize -> navfix()\r\n\tnavfix()","\r\n\r\nimageForFrame = (frame) ->\r\n\t'/images/plants/plant-' + frame + '.png'\r\n\r\nrefreshPlant = (plant) -> \r\n\tnow = Math.round((new Date).getTime() / 1000)\r\n\tstart = parseInt $(plant).data 'start'\r\n\tend = parseInt $(plant).data 'end'\r\n\twatering = parseInt $(plant).data 'watering'\r\n\tnow = Math.min now, watering\r\n\tframe = Math.floor(17 * Math.clamp((now - start) / (end - start), 0, 1)) \r\n\t$(plant).attr 'src', imageForFrame frame\r\n\r\n\tsetTimeout (-> refreshPlant plant), 1000 if frame < 17\r\n\r\n$ ->\r\n\t$('.plantation-plant').each -> refreshPlant this\r\n\r\n\t$('#seedsModal').on 'show.bs.modal', (event) ->\r\n\t\tslot = $(event.relatedTarget).data 'slot'\r\n\t\t$(this).find('input[name=slot]').val slot","url = '/api/character';\r\n\r\n\r\nsetProgress = (object, value, minValue, maxValue, lastUpdate, nextUpdate) ->\r\n\r\n\tbar = $('.' + object + '-bar')\r\n\ttimer = $('.' + object + '-timer')\r\n\r\n\r\n\tif bar.length > 0\r\n\t\tchild = $(bar).children '.progress-bar'\r\n\r\n\t\t$(child)\r\n\t\t\t.data 'max', maxValue\r\n\t\t\t.data 'min', minValue\r\n\t\t\t.data 'now', value\r\n\t\tbar[0].update()\r\n\r\n\r\n\tif timer.length > 0\r\n\t\tchild = $(timer).children '.progress-bar'\r\n\r\n\t\tif nextUpdate?\r\n\t\t\t$(child)\r\n\t\t\t\t.data 'max', nextUpdate\r\n\t\t\t\t.data 'min', lastUpdate\r\n\t\telse\r\n\t\t\t$(child)\r\n\t\t\t\t.data 'max', 1\r\n\t\t\t\t.data 'min', 0\r\n\r\n\r\nsetValues = (object, value, minValue, maxValue) ->\r\n\t$('.' + object + '-now')\r\n\t\t.text value\r\n\r\n\t$('.' + object + '-min')\r\n\t\t.text minValue\r\n\r\n\t$('.' + object + '-max')\r\n\t\t.text maxValue\r\n\r\nsetValue = (object, value) ->\r\n\t$('.' + object)\r\n\t\t.text value\r\n\r\n\r\n\r\n\r\nfill = (data) ->\r\n\tsetProgress 'health', data.health, 0, data.maxHealth, data.healthUpdate, data.nextHealthUpdate\r\n\tsetValues 'health', data.health, 0, data.maxHealth\r\n\r\n\tsetProgress 'energy', data.energy, 0, data.maxEnergy, data.energyUpdate, data.nextEnergyUpdate\r\n\tsetValues 'energy', data.energy, 0, data.maxEnergy\r\n\r\n\tsetProgress 'wanted', data.wanted, 0, 6, data.wantedUpdate, data.nextWantedUpdate\r\n\tsetValues 'wanted', data.wanted, 0, 6\r\n\r\n\tsetProgress 'experience', data.experience, 0, data.maxExperience, null, null\r\n\tsetValues 'experience', data.experience, 0, data.maxExperience\r\n\r\n\r\n\tsetProgress 'plantator', data.plantatorExperience, 0, data.plantatorMaxExperience, null, null\r\n\tsetValues 'plantator', data.plantatorExperience, 0, data.plantatorMaxExperience\r\n\r\n\tsetProgress 'smuggler', data.smugglerExperience, 0, data.smugglerMaxExperience, null, null\r\n\tsetValues 'smuggler', data.smugglerExperience, 0, data.smugglerMaxExperience\r\n\r\n\tsetProgress 'dealer', data.dealerExperience, 0, data.dealerMaxExperience, null, null\r\n\tsetValues 'dealer', data.dealerExperience, 0, data.dealerMaxExperience\r\n\r\n\r\n\r\n\r\n\tsetValue 'level', data.level\r\n\tsetValue 'plantator-level', data.plantatorLevel\r\n\tsetValue 'smuggler-level', data.smugglerLevel\r\n\tsetValue 'dealer-level', data.dealerLevel\r\n\tsetValue 'strength', data.strength,\r\n\tsetValue 'perception', data.perception\r\n\tsetValue 'endurance', data.endurance\r\n\tsetValue 'charisma', data.charisma\r\n\tsetValue 'intelligence', data.intelligence\r\n\tsetValue 'agility', data.agility\r\n\tsetValue 'luck', data.luck + '%'\r\n\tsetValue 'statisticPoints', data.statisticPoints\r\n\tsetValue 'talentPoints', data.talentPoints\r\n\tsetValue 'money', '$' + data.money\r\n\tsetValue 'reports', data.reportsCount\r\n\r\n\r\nloaded = (data) ->\r\n\r\n\tfill data\r\n\twindow.location.refresh() if data.reload\r\n\tsetTimeout load, data.nextUpdate * 1000\r\n\r\n\r\nnotify = (data) ->\r\n\tfor n in data\r\n\t\twindow.notify {\r\n\r\n\t\t\ttitle: '<strong>' + n.title + '</strong>',\r\n\t\t\tmessage: '',\r\n\t\t\turl: '/reports/' + n.id,\r\n\r\n\t\t}\r\n\twindow.notifyShow()\r\n\r\n\r\nload = ->\r\n\r\n\t$.ajax {\r\n\r\n\t\turl: url,\r\n\t\tdataType: 'json',\r\n\t\tmethod: 'GET',\r\n\t\tsuccess: loaded\r\n\t}\r\n\r\n\tif window.active\r\n\t\t$.ajax {\r\n\r\n\t\t\turl: url + '/notifications',\r\n\t\t\tdataType: 'json',\r\n\t\t\tmathod: 'GET',\r\n\t\t\tsuccess: notify\r\n\t\t}\r\n\r\n\r\n\t\r\n$(window).focus ->\r\n\tload()\r\n\r\n\r\n$ ->\r\n\tload()","\r\nsquare = ->\r\n\r\n\t$('.square').each ->\r\n\r\n\t\tif $(this).data('square') == 'width'\r\n\r\n\t\t\t$(this).width $(this).height()\r\n\t\telse\r\n\r\n\t\t\t$(this).height $(this).width()\r\n\r\n$ ->\r\n\t$(window).resize -> \r\n\t\tsquare()\r\n\t\t\r\n\tsquare()","\r\nchanged = -> \r\n\tcurrent = parseInt ($('#currentStatisticsPoints').text() ? 0)\r\n\tleft = parseInt $('#statisticsPoints').text()\r\n\told = parseInt ($(this).data('old') ? 0)\r\n\tval = parseInt ($(this).val() ? 0)\r\n\tdiff = val - old\r\n\r\n\tdiff = left if diff > left\r\n\tval = old + diff\r\n\tleft -= diff\r\n\r\n\tif not isNaN diff\r\n\r\n\t\t$(this)\r\n\t\t\t.val val\r\n\t\t\t.data 'old', val\r\n\r\n\t\t$('#statisticsPoints')\r\n\t\t\t.text left\r\n\r\n\t\t$('.statistic').each ->\r\n\t\t\tval = parseInt $(this).val() ? 0\r\n\t\t\t$(this).attr 'max', left + val\r\n\r\n\r\n\r\n$ -> \r\n\t$('.statistic')\r\n\t\t.bind 'keyup input change', changed\r\n\t\t.trigger 'change'\r\n","\r\nrefreshing = false\r\n\r\nrefresh = ->\r\n\twindow.location.refresh() if not refreshing\r\n\trefreshing = true\r\n\r\nupdate = (timer) ->\r\n\tbar = $(timer).children('.progress-bar').last()\r\n\tlabel = $(timer).children '.progress-label'\r\n\ttime = Math.round (new Date).getTime() / 1000.0\r\n\r\n\r\n\tmin = $(bar).data 'min'\r\n\tmax = $(bar).data 'max'\r\n\tstop = $(bar).data 'stop'\r\n\tca = $(bar).data('ca')\r\n\tcb = $(bar).data('cb')\r\n\r\n\r\n\r\n\treversed = Boolean($(bar).data('reversed') ? false)\r\n\treload = Boolean($(bar).data('reload') ? true)\r\n\r\n\tif stop?\r\n\t\ttime = Math.min time, stop\r\n\r\n\tnow = Math.clamp(time, min, max)\r\n\r\n\r\n\tpercent = (now - min) / (max - min)\r\n\tpercent = 1 - percent if reversed\r\n\r\n\r\n\r\n\r\n\t$(bar).css 'width', (percent * 100) + '%'\r\n\t$(bar).css('background-color', Math.lerpColors(percent, ca, cb)) if ca? and cb?\r\n\t$(label).text window.timeFormat? max - now\r\n\r\n\trefresh() if time > max and reload\r\n\r\n\tsetTimeout -> update timer, 1000 #if time <= max\r\n\r\n\r\n$ ->\r\n\t$('.progress-time').each ->\r\n\t\tupdate this\r\n\r\n\r\n\r\n\r\n","$ ->\r\n\t$('[data-toggle=\"tooltip\"]').tooltip {html: true, placement: 'auto left'}","window.format or= \r\n\ttime:\r\n\t\tday: 'd'\r\n\t\thour: 'h'\r\n\t\tminute: 'm'\r\n\t\tsecond: 's'\r\n\r\n\r\n\r\n\r\nwindow.active ?= false\r\n\r\n\r\n\r\n$(window).focus ->\r\n\twindow.active = true\r\n\r\n$(window).blur ->\r\n\twindow.active = false\r\n\r\n\r\n\r\n\r\n\r\nwindow.lpad or= (value, padding) ->\r\n  zeroes = \"0\"\r\n  zeroes += \"0\" for i in [1..padding]\r\n\r\n  (zeroes + value).slice(padding * -1)\r\n\r\n\r\ntimeSeparate = (value) ->\r\n\tif value.length > 0\r\n\t\tvalue + ' '\r\n\telse\r\n\t\tvalue\r\n\r\ntimeFormat = (text, value, format) ->\r\n\ttext = timeSeparate(text)\r\n\r\n\tif text.length > 0\r\n\t\ttext += window.lpad value, 2\r\n\telse \r\n\t\ttext += value\r\n\r\n\ttext + format\r\n\r\n\r\nwindow.timeFormat or= (value) ->\r\n\ttext = ''\r\n\tdate = new Date(value * 1000)\r\n\td = date.getUTCDate() - 1\r\n\th = date.getUTCHours()\r\n\tm = date.getUTCMinutes()\r\n\ts = date.getUTCSeconds()\r\n\r\n\ttext += d + format.time.day if d > 0\r\n\ttext = timeFormat(text, h, format.time.hour) if h > 0\r\n\ttext = timeFormat(text, m, format.time.minute) if h > 0 or m > 0\r\n\ttext = timeFormat(text, s, format.time.second) if h > 0 or m > 0 or s > 0\r\n\r\n\ttext\r\n\r\n\r\nwindow.location.refresh or= ->\r\n\tloc = window.location\r\n\twindow.location = loc.protocol + '//' + loc.host + loc.pathname + loc.search\r\n\r\n\r\n\r\n\r\nnotifications = []\r\nwindow.notify or= (props)->\r\n\tnotifications.push props\r\n\r\n\r\nclone = (obj) ->\r\n\treturn obj  if obj is null or typeof (obj) isnt \"object\"\r\n\ttemp = new obj.constructor()\r\n\tfor key of obj\r\n\t\ttemp[key] = clone(obj[key])\r\n\ttemp\r\n\r\nshowNotify = (n, i) ->\r\n\tconsole.log('P', n, i);\r\n\tsetTimeout (-> \r\n\t\tconsole.log('S', n, i);\r\n\t\t$.notify(n, {\r\n\r\n\t\t\tplacement: {\r\n\r\n\t\t\t\tfrom: 'bottom',\r\n\t\t\t},\r\n\t\t\tmouse_over: 'pause',\r\n\r\n\t\t\t})), i * 1000\r\n\t\r\n\r\n\r\n\r\nwindow.notifyShow or= ->\r\n\tif window.active\r\n\r\n\t\tfor notification, index in notifications\r\n\t\t\tshowNotify $.extend({}, notification), index\r\n\t\tnotifications = []\r\n\r\n\r\n\r\n$(window).focus -> window.notifyShow()\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nMath.clamp or= (value, min, max) ->\r\n\tMath.max(Math.min(value, max), min)\r\n\r\n\r\nMath.lerp or= (i, a, b) ->\r\n\t(a * i) + (b * (1 - i))\r\n\r\n\r\n\r\nMath.hexToRgb or= (hex) -> \r\n    result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n    return {\r\n        r: parseInt(result[1], 16),\r\n        g: parseInt(result[2], 16),\r\n        b: parseInt(result[3], 16)\r\n\r\n    } if result;\r\n    null;\r\n\r\nMath.rgbToHex or= (r, g, b) ->\r\n    return \"#\" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\r\n\r\n\r\nMath.lerpColors or= (i, a, b) ->\r\n\r\n\tca = Math.hexToRgb a\r\n\tcb = Math.hexToRgb b\r\n\r\n\tcc = {\r\n\t\tr: Math.round(Math.lerp(i, ca.r, cb.r)),\r\n\t\tg: Math.round(Math.lerp(i, ca.g, cb.g)),\r\n\t\tb: Math.round(Math.lerp(i, ca.b, cb.b)),\r\n\t}\r\n\r\n\treturn Math.rgbToHex(cc.r, cc.g, cc.b)\r\n\r\n\r\n\r\n\r\n\r\nupdateProgress = ->\r\n\tbar = $(this).children('.progress-bar')\r\n\tlabel = $(this).children('.progress-label')\r\n\r\n\tmin = $(bar).data('min')\r\n\tmax = $(bar).data('max')\r\n\tca = $(bar).data('ca')\r\n\tcb = $(bar).data('cb')\r\n\tnow = Math.clamp($(bar).data('now'), min, max)\r\n\treversed = Boolean($(bar).data('reversed') ? false)\r\n\r\n\tpercent = (now - min) / (max - min) * 100\r\n\tpercent = 100 - percent if reversed\r\n\r\n\r\n\r\n\r\n\r\n\t$(bar).css('width', percent + '%')\r\n\t$(bar).css('background-color', Math.lerpColors(percent / 100, ca, cb)) if ca? and cb?\r\n\r\n\r\n\r\n\t$(label).text(now + ' / ' + max)\r\n\r\n$ -> \r\n\t$('.progress').each ->\r\n\t\tthis.update or= updateProgress\r\n\r\n\r\n\r\nrelMouseCoords = `function (event){\r\n    var totalOffsetX = 0;\r\n    var totalOffsetY = 0;\r\n    var canvasX = 0;\r\n    var canvasY = 0;\r\n    var currentElement = this;\r\n\r\n    do{\r\n        totalOffsetX += currentElement.offsetLeft - currentElement.scrollLeft;\r\n        totalOffsetY += currentElement.offsetTop - currentElement.scrollTop;\r\n    }\r\n    while(currentElement = currentElement.offsetParent)\r\n\r\n    canvasX = event.pageX - totalOffsetX;\r\n    canvasY = event.pageY - totalOffsetY;\r\n\r\n    return {x:canvasX, y:canvasY}\r\n}`\r\n\r\nHTMLCanvasElement.prototype.relMouseCoords = relMouseCoords;"],"sourceRoot":"/source/"}