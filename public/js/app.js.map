{"version":3,"sources":["equalizer.coffee","form.coffee","imagePreview.coffee","navfix.coffee","plantation.coffee","player.coffee","square.coffee","statistics.coffee","timer.coffee","tooltip.coffee","utils.coffee"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["widths =\r\n\txs: 768,\r\n\tsm: 992,\r\n\tmd: 1200,\r\n\r\n\r\n\r\ngetPrefix = ->\r\n\twidth = $(window).width()\r\n\r\n\tif width < widths.xs\r\n\t\t['xs']\r\n\telse if width < widths.sm\r\n\t\t['sm', 'xs']\r\n\telse if width < widths.md\r\n\t\t['md', 'sm', 'xs']\r\n\telse\r\n\t\t['lg', 'md', 'sm', 'xs']\r\n\r\n\r\ngetColumns = (prefix) ->\r\n\tresult = []\r\n\tfor p in prefix\r\n\t\tfor i in [1..12]\r\n\t\t\tresult.push(\"col-#{p}-#{i}\")\r\n\tresult\r\n\r\n\r\n\r\ngetSize = (object, prefix) ->\r\n\tfor p in prefix\r\n\t\tregexp = new RegExp(\"col-#{p}-(\\\\d+)\")\r\n\t\tsize = $(object).attr('class').match(regexp)?[1]\r\n\t\treturn parseInt(size) if size?\r\n\treturn null\r\n\r\n\r\n\r\n\r\nequalize = ->\r\n\tprefix = getPrefix()\r\n\tcolumns = getColumns(prefix)\r\n\tselector = '.' + columns.join(',.')\r\n\t\r\n\t#console.log('prefix: ', prefix)\r\n\t#console.log('columns: ', columns)\r\n\t#console.log('selector: ', selector)\r\n\r\n\r\n\t$('.row.equalize').each ->\r\n\t\tconsole.log('new row')\r\n\t\theights = []\r\n\t\trow = 0\r\n\t\tsum = 0\r\n\r\n\t\t$(this).children(selector).each ->\r\n\t\t\tsize = getSize(this, prefix)\r\n\t\t\tsum += size\r\n\r\n\t\t\t#console.log('size: ', size)\r\n\t\t\t#console.log('sum: ', sum)\r\n\r\n\t\t\tif sum > 12\r\n\t\t\t\tsum -= 12\r\n\t\t\t\trow++\r\n\t\t\t\t#console.log('next row ', row, size)\r\n\r\n\t\t\theights[row] ?= 0\r\n\t\t\theights[row] = Math.max(heights[row], $(this).height())\r\n\t\t\t#console.log('height ', heights[row])\r\n\r\n\t\trow = 0\r\n\t\tsum = 0\r\n\t\tcol = null\r\n\r\n\t\t$(this).children(selector).each ->\r\n\t\t\tsum += getSize(this, prefix)\r\n\t\t\tcol ?= this\r\n\r\n\t\t\tif sum > 12\r\n\t\t\t\tsum -= 12\r\n\t\t\t\trow++\r\n\t\t\t\tcol = this\r\n\r\n\t\t\t$(this).height(heights[row])\r\n\r\n\t\ths = Math.round (12 - sum) / 2\r\n\t\tif col? and hs > 0\r\n\t\t\tp = prefix[0]\r\n\r\n\t\t\tfor i in [1..12]\r\n\t\t\t\t$(col).removeClass(\"col-#{p}-offset-#{i}\")\r\n\t\t\t$(col).addClass(\"col-#{p}-offset-#{hs}\")\r\n\r\n\r\n\r\n\r\n$ ->\r\n\t$(window).resize -> equalize()\r\n\tequalize()","speed = 1\r\n\r\n\r\nkeyDown = (event) ->\r\n\tspeed = 10 if event.which == 17\r\n\tspeed = 100 if event.which == 16\r\n\r\nkeyUp = (event) ->\r\n\tspeed = 1 if event.which == 17 or event.which == 16\r\n\r\n\r\nmouseWheel = (event) ->\r\n\tmin = parseInt ($(this).attr('min') ? 0)\r\n\tmax = parseInt ($(this).attr('max') ? 100)\r\n\tstep = parseInt ($(this).attr('step') ? 1)\r\n\r\n\tchange = event.deltaY * step * speed\r\n\tvalue = parseInt $(this).val() ? 0\r\n\tvalue = Math.clamp value + change, min, max\r\n\r\n\t$(this)\r\n\t\t.val value\r\n\t\t.trigger 'change'\r\n\r\n\tevent.preventDefault()\r\n\r\nrangeChanged = (event) ->\r\n\toutput = $(this).parent().children('.range-value')\r\n\tbefore = ($(output).data 'before') ? ''\r\n\tafter = ($(output).data 'after') ? ''\r\n\tvalue = $(this).val() ? 0\r\n\r\n\t$(output).text before + value + after\r\n\r\n\r\nnumberDecrease = (event) ->\r\n\tinput = $(this).parent().parent().children('input')\r\n\tmin = parseInt ($(input).attr('min') ? 0)\r\n\tmax = parseInt ($(input).attr('max') ? 100)\r\n\tstep = parseInt ($(input).attr('step') ? 1)\r\n\r\n\tvalue = parseInt ($(input).val() ? 0)\r\n\tvalue = Math.clamp(value - speed * step, min, max)\r\n\t$(input).val(value).trigger('change')\r\n\r\n\r\nnumberIncrease = (event) ->\r\n\tinput = $(this).parent().parent().children('input')\r\n\tmin = parseInt ($(input).attr('min') ? 0)\r\n\tmax = parseInt ($(input).attr('max') ? 100)\r\n\tstep = parseInt ($(input).attr('step') ? 1)\r\n\r\n\tvalue = parseInt ($(input).val() ? 0)\r\n\tvalue = Math.clamp(value + speed * step, min, max)\r\n\t$(input).val(value).trigger('change')\r\n\r\n\r\n\r\n\r\n$ -> (\r\n\r\n\t$(window)\r\n\t\t.keyup keyUp\r\n\t\t.keydown keyDown\r\n\r\n\t$('input[type=number], input[type=range]')\r\n\t\t.bind 'mousewheel', mouseWheel\r\n\r\n\t$('input[type=range]')\r\n\t\t.change rangeChanged\r\n\t\t.mousemove rangeChanged\r\n\r\n\t$('.number-minus').children('button')\r\n\t\t.click numberDecrease\r\n\r\n\r\n\t$('.number-plus').children('button')\r\n\t\t.click numberIncrease\r\n\r\n)","\r\n\r\n\r\n\r\n$ -> \r\n\t$('.image-preview').each ->\r\n\t\tpreview = this\r\n\t\tid = $(this).data('for')\r\n\t\t$('#' + id).change((event) -> \r\n\t\t\t\r\n\t\t\tpath = URL.createObjectURL(event.target.files[0])\r\n\t\t\t$(preview).attr 'src', path\r\n\t\t).trigger 'change'\r\n","navfix = ->\r\n\theight = $('#mainNav').height() + 10\r\n\t$('body').css('padding-top', height + 'px')\r\n\r\n\r\n$ ->\r\n\t$(window).resize -> navfix()\r\n\tnavfix()","\r\n\r\nimageForFrame = (frame) ->\r\n\t'/images/plants/plant-' + frame + '.png'\r\n\r\nrefreshPlant = (plant) -> \r\n\tnow = Math.round((new Date).getTime() / 1000)\r\n\tstart = parseInt $(plant).data 'start'\r\n\tend = parseInt $(plant).data 'end'\r\n\twatering = parseInt $(plant).data 'watering'\r\n\tnow = Math.min now, watering\r\n\tframe = Math.floor(17 * Math.clamp((now - start) / (end - start), 0, 1)) \r\n\t$(plant).attr 'src', imageForFrame frame\r\n\r\n\tsetTimeout (-> refreshPlant plant), 1000 if frame < 17\r\n\r\n$ ->\r\n\t$('.plantation-plant').each -> refreshPlant this\r\n\r\n\t$('#seedsModal').on 'show.bs.modal', (event) ->\r\n\t\tslot = $(event.relatedTarget).data 'slot'\r\n\t\t$(this).find('input[name=slot]').val slot","url = '/api/character';\r\n\r\n\r\nsetProgress = (object, value, minValue, maxValue, lastUpdate, nextUpdate) ->\r\n\r\n\tbar = $('.' + object + '-bar')\r\n\ttimer = $('.' + object + '-timer')\r\n\r\n\r\n\tif bar.length > 0\r\n\t\tchild = $(bar).children '.progress-bar'\r\n\r\n\t\t$(child)\r\n\t\t\t.data 'max', maxValue\r\n\t\t\t.data 'min', minValue\r\n\t\t\t.data 'now', value\r\n\t\tbar[0].update()\r\n\r\n\r\n\tif timer.length > 0\r\n\t\tchild = $(timer).children '.progress-bar'\r\n\r\n\t\tif nextUpdate?\r\n\t\t\t$(child)\r\n\t\t\t\t.data 'max', nextUpdate\r\n\t\t\t\t.data 'min', lastUpdate\r\n\t\telse\r\n\t\t\t$(child)\r\n\t\t\t\t.data 'max', 1\r\n\t\t\t\t.data 'min', 0\r\n\r\n\r\nsetValues = (object, value, minValue, maxValue) ->\r\n\t$('.' + object + '-now')\r\n\t\t.text value\r\n\r\n\t$('.' + object + '-min')\r\n\t\t.text minValue\r\n\r\n\t$('.' + object + '-max')\r\n\t\t.text maxValue\r\n\r\nsetValue = (object, value) ->\r\n\t$('.' + object)\r\n\t\t.text value\r\n\r\n\r\n\r\n\r\nfill = (data) ->\r\n\tsetProgress 'health', data.health, 0, data.maxHealth, data.healthUpdate, data.nextHealthUpdate\r\n\tsetValues 'health', data.health, 0, data.maxHealth\r\n\r\n\tsetProgress 'energy', data.energy, 0, data.maxEnergy, data.energyUpdate, data.nextEnergyUpdate\r\n\tsetValues 'energy', data.energy, 0, data.maxEnergy\r\n\r\n\tsetProgress 'wanted', data.wanted, 0, 6, data.wantedUpdate, data.nextWantedUpdate\r\n\tsetValues 'wanted', data.wanted, 0, 6\r\n\r\n\tsetProgress 'experience', data.experience, 0, data.maxExperience, null, null\r\n\tsetValues 'experience', data.experience, 0, data.maxExperience\r\n\r\n\r\n\tsetProgress 'plantator', data.plantatorExperience, 0, data.plantatorMaxExperience, null, null\r\n\tsetValues 'plantator', data.plantatorExperience, 0, data.plantatorMaxExperience\r\n\r\n\tsetProgress 'smuggler', data.smugglerExperience, 0, data.smugglerMaxExperience, null, null\r\n\tsetValues 'smuggler', data.smugglerExperience, 0, data.smugglerMaxExperience\r\n\r\n\tsetProgress 'dealer', data.dealerExperience, 0, data.dealerMaxExperience, null, null\r\n\tsetValues 'dealer', data.dealerExperience, 0, data.dealerMaxExperience\r\n\r\n\r\n\r\n\r\n\tsetValue 'level', data.level\r\n\tsetValue 'plantator-level', data.plantatorLevel\r\n\tsetValue 'smuggler-level', data.smugglerLevel\r\n\tsetValue 'dealer-level', data.dealerLevel\r\n\tsetValue 'strength', data.strength,\r\n\tsetValue 'perception', data.perception\r\n\tsetValue 'endurance', data.endurance\r\n\tsetValue 'charisma', data.charisma\r\n\tsetValue 'intelligence', data.intelligence\r\n\tsetValue 'agility', data.agility\r\n\tsetValue 'luck', data.luck + '%'\r\n\tsetValue 'statisticPoints', data.statisticPoints\r\n\tsetValue 'talentPoints', data.talentPoints\r\n\tsetValue 'money', '$' + data.money\r\n\tsetValue 'reports', data.reportsCount\r\n\r\n\r\nloaded = (data) ->\r\n\r\n\tfill data\r\n\tsetTimeout load, data.nextUpdate * 1000\r\n\r\n\r\nnotify = (data) ->\r\n\tfor n in data\r\n\t\twindow.notify {\r\n\r\n\t\t\ttitle: '<strong>' + n.title + '</strong>',\r\n\t\t\tmessage: '',\r\n\t\t\turl: '/reports/' + n.id,\r\n\r\n\t\t}\r\n\twindow.notifyShow()\r\n\r\n\r\nload = ->\r\n\t$.ajax {\r\n\r\n\t\turl: url,\r\n\t\tdataType: 'json',\r\n\t\tmethod: 'GET',\r\n\t\tsuccess: loaded\r\n\t}\r\n\r\n\t$.ajax {\r\n\r\n\t\turl: url + '/notifications',\r\n\t\tdataType: 'json',\r\n\t\tmathod: 'GET',\r\n\t\tsuccess: notify\r\n\t}\r\n\r\n\r\n\t\r\n\r\n\r\n\r\n$ ->\r\n\tload()","\r\nsquare = ->\r\n\r\n\t$('.square').each ->\r\n\r\n\t\tif $(this).data('square') == 'width'\r\n\r\n\t\t\t$(this).width $(this).height()\r\n\t\telse\r\n\r\n\t\t\t$(this).height $(this).width()\r\n\r\n$ ->\r\n\t$(window).resize -> \r\n\t\tsquare()\r\n\t\t\r\n\tsquare()","\r\nchanged = -> \r\n\tcurrent = parseInt ($('#currentStatisticsPoints').text() ? 0)\r\n\tleft = parseInt $('#statisticsPoints').text()\r\n\told = parseInt ($(this).data('old') ? 0)\r\n\tval = parseInt ($(this).val() ? 0)\r\n\tdiff = val - old\r\n\r\n\tdiff = left if diff > left\r\n\tval = old + diff\r\n\tleft -= diff\r\n\r\n\tif not isNaN diff\r\n\r\n\t\t$(this)\r\n\t\t\t.val val\r\n\t\t\t.data 'old', val\r\n\r\n\t\t$('#statisticsPoints')\r\n\t\t\t.text left\r\n\r\n\t\t$('.statistic').each ->\r\n\t\t\tval = parseInt $(this).val() ? 0\r\n\t\t\t$(this).attr 'max', left + val\r\n\r\n\r\n\r\n$ -> \r\n\t$('.statistic')\r\n\t\t.bind 'keyup input change', changed\r\n\t\t.trigger 'change'\r\n","\r\nrefreshing = false\r\n\r\nrefresh = ->\r\n\twindow.location.refresh() if not refreshing\r\n\trefreshing = true\r\n\r\nupdate = (timer) ->\r\n\tbar = $(timer).children('.progress-bar').last()\r\n\tlabel = $(timer).children '.progress-label'\r\n\ttime = Math.round (new Date).getTime() / 1000.0\r\n\r\n\r\n\tmin = $(bar).data 'min'\r\n\tmax = $(bar).data 'max'\r\n\tstop = $(bar).data 'stop'\r\n\r\n\r\n\r\n\treversed = Boolean($(bar).data('reversed') ? false)\r\n\treload = Boolean($(bar).data('reload') ? true)\r\n\r\n\tif stop?\r\n\t\ttime = Math.min time, stop\r\n\r\n\tnow = Math.clamp(time, min, max)\r\n\r\n\r\n\tpercent = (now - min) / (max - min)\r\n\tpercent = 1 - percent if reversed\r\n\r\n\r\n\r\n\r\n\t$(bar).css 'width', (percent * 100) + '%'\r\n\t$(label).text window.timeFormat? max - now\r\n\r\n\trefresh() if time > max and reload\r\n\r\n\tsetTimeout -> update timer, 1000 #if time <= max\r\n\r\n\r\n$ ->\r\n\t$('.progress-time').each ->\r\n\t\tupdate this\r\n\r\n\r\n\r\n\r\n","$ ->\r\n\t$('[data-toggle=\"tooltip\"]').tooltip {html: true, placement: 'auto left'}","window.format or= \r\n\ttime:\r\n\t\tday: 'd'\r\n\t\thour: 'h'\r\n\t\tminute: 'm'\r\n\t\tsecond: 's'\r\n\r\n\r\n\r\n\r\nwindow.active ?= false\r\n\r\n\r\n\r\n$(window).focus ->\r\n\twindow.active = true\r\n\r\n$(window).blur ->\r\n\twindow.active = false\r\n\r\n\r\n\r\n\r\n\r\nwindow.lpad or= (value, padding) ->\r\n  zeroes = \"0\"\r\n  zeroes += \"0\" for i in [1..padding]\r\n\r\n  (zeroes + value).slice(padding * -1)\r\n\r\n\r\ntimeSeparate = (value) ->\r\n\tif value.length > 0\r\n\t\tvalue + ' '\r\n\telse\r\n\t\tvalue\r\n\r\ntimeFormat = (text, value, format) ->\r\n\ttext = timeSeparate(text)\r\n\r\n\tif text.length > 0\r\n\t\ttext += window.lpad value, 2\r\n\telse \r\n\t\ttext += value\r\n\r\n\ttext + format\r\n\r\n\r\nwindow.timeFormat or= (value) ->\r\n\ttext = ''\r\n\tdate = new Date(value * 1000)\r\n\td = date.getUTCDate() - 1\r\n\th = date.getUTCHours()\r\n\tm = date.getUTCMinutes()\r\n\ts = date.getUTCSeconds()\r\n\r\n\ttext += d + format.time.day if d > 0\r\n\ttext = timeFormat(text, h, format.time.hour) if h > 0\r\n\ttext = timeFormat(text, m, format.time.minute) if h > 0 or m > 0\r\n\ttext = timeFormat(text, s, format.time.second) if h > 0 or m > 0 or s > 0\r\n\r\n\ttext\r\n\r\n\r\nwindow.location.refresh or= ->\r\n\tloc = window.location\r\n\twindow.location = loc.protocol + '//' + loc.host + loc.pathname + loc.search\r\n\r\n\r\n\r\n\r\nnotifications = []\r\nwindow.notify or= (props)->\r\n\tnotifications.push props\r\n\r\n\r\nclone = (obj) ->\r\n\treturn obj  if obj is null or typeof (obj) isnt \"object\"\r\n\ttemp = new obj.constructor()\r\n\tfor key of obj\r\n\t\ttemp[key] = clone(obj[key])\r\n\ttemp\r\n\r\nshowNotify = (n, i) ->\r\n\tconsole.log('P', n, i);\r\n\tsetTimeout (-> \r\n\t\tconsole.log('S', n, i);\r\n\t\t$.notify(n, {\r\n\r\n\t\t\tplacement: {\r\n\r\n\t\t\t\tfrom: 'bottom',\r\n\t\t\t},\r\n\t\t\tmouse_over: 'pause',\r\n\r\n\t\t\t})), i * 1000\r\n\t\r\n\r\n\r\n\r\nwindow.notifyShow or= ->\r\n\tif window.active\r\n\r\n\t\tfor notification, index in notifications\r\n\t\t\tshowNotify $.extend({}, notification), index\r\n\t\tnotifications = []\r\n\r\n\r\n\r\n$(window).focus -> window.notifyShow()\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nMath.clamp or= (value, min, max) ->\r\n\tMath.max(Math.min(value, max), min)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nupdateProgress = ->\r\n\tbar = $(this).children('.progress-bar')\r\n\tlabel = $(this).children('.progress-label')\r\n\r\n\tmin = $(bar).data('min')\r\n\tmax = $(bar).data('max')\r\n\tnow = Math.clamp($(bar).data('now'), min, max)\r\n\treversed = Boolean($(bar).data('reversed') ? false)\r\n\r\n\tpercent = (now - min) / (max - min) * 100\r\n\tpercent = 100 - percent if reversed\r\n\r\n\r\n\t$(bar).css 'width', percent + '%'\r\n\t$(label).text(now + ' / ' + max)\r\n\r\n$ -> \r\n\t$('.progress').each ->\r\n\t\tthis.update or= updateProgress\r\n"],"sourceRoot":"/source/"}